new ReverseTemplateList([new ReverseTemplate("anyvite.com-invitation-en",function(){return!0},function(e){if(!/Your Response:\s+Yes\s?/.test(e.plain))return CONTINUE;var t=Scanner.fromMessage(e);if(t.setLocale("en_US"),t.getSpan().nextText("Invitation Details").nextText("RSVP").nextText("Date & Time").nextText("Location").exists()){var n,a,i,r,o,s,p,c,m,l,d,u;if(a=(a=/http:\/\/email\.mail\.anyvite\.com\/c\/(\w+)/.exec(e.html))?a[1]:null,u=(n=t.getSpan().nextText("View the Invitation").parentTag("td3").tagContents()).innerCapture(/(.*) has invited you to/,1),not(u)&&(u=n.innerCapture(/(.*) would like to remind you/,1)),not(u)&&(u=n.innerCapture(/hosted by (.*?)\./,1)),not(u)){var g=e.from.split("<")[0].trim();/anyvite/i.test(g)||(u=g)}switch(s=(r=(n=t.getSpan().nextText("Invitation Details").nextText("RSVP").nextTag("td3").tagContents()).innerCapture(/($<name>.*)\n($<description>[^]*)\s+\[table4/))?r.$name:null,p=r?r.$description.trim():null,o=t.getSpan().innerCapture(/View the Invitation <(http.*)>/,1),l=n.innerText("Date & Time").nextDate(),n=n.innerText("Date & Time").nextText("Location").nextTag("td4").tagContents(),d=getFuzzyAddress(n),(c=n.innerCapture(/($<name>.*)(?:\n($<address>[^]*)\s+Get Map & Directions)?/))&&(not(d)?d=t.getDetachedSpan(c.$name.toString()).trim():startsWith(d.toString(),c.$name.toString())||(m=c.$name)),(n=t.getSpan().innerCapture(/\s+Your Response:\s+([^\s]*)\s+/,1)).getString().toLowerCase()){case"yes":i="Confirmed";break;case"no":i="Cancelled";break;case"maybe":i="Hold";break;default:i="Pending"}if(ASSERT(s,l,d))return[{"@context":"http://schema.org","@type":"http://schema.org/EventReservation",reservationStatus:"http://schema.org/Reservation"+i,reservationId:a,reservationFor:{url:o,"@type":"http://schema.org/SocialEvent",name:s,startDate:l,location:valid(m)?{"@type":"http://schema.org/Place",name:m,address:d}:d,description:p},appleInvitedBy:u}]}},function(){return{}},"SG3e87bdc8")]);