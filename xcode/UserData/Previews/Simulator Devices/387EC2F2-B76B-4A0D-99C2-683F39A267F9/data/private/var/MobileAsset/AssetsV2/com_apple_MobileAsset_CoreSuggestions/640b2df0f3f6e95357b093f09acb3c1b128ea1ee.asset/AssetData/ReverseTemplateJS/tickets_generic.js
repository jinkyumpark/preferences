(function(){return function(e,t){if(!(t||(t=loadHelper("generic_common.js")(e,"tickets"))&&t!==STOP))return STOP;var a,r,s,l,o,i,n,d,c,p,j,m,u,H,h,v=t[0],b=t[1],g=t[2],f=loadHelper("bail.js");if(a=loadHelper("name.js")(e.subject,b,g,e).trim(),(s=loadHelper("starttime.js")(b,g,e,a))&&"object"==typeof s&&!s.exists()&&f(b,g,"noDateBail"))return STOP;if(r=loadHelper("reservationid.js")(b,g,e.subject,e.url),loadHelper("reservation_id_domain_whitelist.js"),l=loadHelper("endtime.js")(b,g,s),s&&"object"==typeof s&&loadHelper("date_duration_should_bail.js")(b,g,s,l,"tickets"))return STOP;d=loadHelper("undername.js")(e.to,b,g,e.subject),i=loadHelper("place.js")(b,g,a,e.subject,null,"tickets"),n=loadHelper("address.js")(b,g,e,a,d,i),i=i&&!i.exists()&&n.exists()?loadHelper("place_from_address.js")(b,g,n):i,H=loadHelper("ticketnumber.js")(b,g),loadHelper("price.js")(b,g).exists()&&loadHelper("pricecurrency.js")(b,g);var y=!1;if(y=loadHelper("shouldtableextractseatinfo.js")(b,g),m=loadHelper("seatsection.js")(b,g,y),j=loadHelper("seatrow.js")(b,g,y),p=loadHelper("seat.js")(b,g,j,y),o={"@type":"http://schema.org/Place",name:i,address:n},loadHelper("isVirtual.js")(a,i,n,b,g,m)||loadHelper("virtual_domain_allowlist.js").includes(e.domain)){c=loadHelper("streamLink.js")(g,b,e);var _=loadHelper("meetingInfo.js")(b,g,c);o={"@type":"http://schema.org/VirtualLocation",url:c,accessId:_[0],accessCode:_[1]}}return[{"@context":"http://schema.org","@type":"http://schema.org/EventReservation",reservationId:r,reservationStatus:"http://schema.org/Reservation"+v,url:h,underName:{"@type":"http://schema.org/Person",name:d},reservationFor:{"@type":"http://schema.org/Event",name:a,startDate:s,endDate:l,location:o},reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:H,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:p,seatRow:j,seatSection:m,seatingType:u}}}]}}).call();