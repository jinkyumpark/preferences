(function(){return function(e,t,n,r,i,p,o){var a,s=t.getNullSpan(),g=loadHelper("isValid.js");if("hotel"===o&&e.hotelPhone)for(a=0;a<e.hotelPhone.length&&(!s||!s.exists());a++)s=t.getSpan().innerCapture(e.hotelPhone[a],1);for(a=0;a<e.phoneInnerCapture.length&&(!s||!s.exists());a++)s=t.getSpan().innerCapture(e.phoneInnerCapture[a],1);for(a=0;a<e.phone.length&&(!s||!s.exists());a++)s=t.getSpan().next(e.phone[a]).firstPhoneNumber();if(p)for(a=0;a<e.phoneCaptureHTML.length&&(!s||!s.exists());a++){var h=e.phoneCaptureHTML[a].exec(p.html);if(h&&2===h.length){var l=t.getDetachedSpan(h[1].replace("\\u002D","-").replace(/[\\\",]/g,"").replace(/\s+/g," ").replace(/<br(?: \/>|\/>||&gt;|>| )?/g,", "));if(l.toString().length>0&&(s=l.exists()?l:undefined).exists())return s}}if(s&&s.exists()&&!g("phone",e,t.getSpan(),s,n,r)&&(s=t.getNullSpan()),!s||!s.exists()){var u=loadHelper("getCandidates.js"),f=t.getSpan().allPhoneNumbers(),x=[];r&&r.exists()&&(e.phonePrefix.push(new RegExp(r.toString())),x=e.buildRegExp("phonePrefixWithAddress",r.toString())),i&&i.exists()&&e.phonePrefix.push(new RegExp(i.toString())),s=u([e.phone,e.phonePrefix,x],t.getSpan(),function(e){return f.filter(function(t){return t.getStart()>=e.getEnd()})},function(e,t){return e.getStart()>=t.getEnd()},undefined,function(e,t){return/[\s()-.]/.test(e.toString().trim())||(t+=40),t},function(i){return g("phone",e,t.getSpan(),i,n,r)})}return s.trim().replace(/^\w+\s?[:\uff1a][\s\n\r]*/,"")}}).call();