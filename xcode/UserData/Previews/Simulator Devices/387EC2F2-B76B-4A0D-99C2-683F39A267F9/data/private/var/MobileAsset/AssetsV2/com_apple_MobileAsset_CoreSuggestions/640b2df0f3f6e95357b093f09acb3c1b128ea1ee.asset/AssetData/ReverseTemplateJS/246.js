new ReverseTemplateList([new ReverseTemplate("1hai-confirmation-zh",function(){return!0},function(e){if(!/\u3010\u4e00\u55e8\u79df\u8f66\u3011/.test(e.plain))return CONTINUE;if(!/\u60a8\u5df2\u6210\u529f\u9884\u8ba2\u4e86/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s=r.getSpan(),h=s.innerCapture(/\u60a8\u5df2\u6210\u529f\u9884\u8ba2\u4e86\u4e00\u8f86(.+),(\d{1,2}\/\d{1,2}\s?\d{1,2}:\d{2}).*?\u8ba2\u5355\u53f7(\d+)(?:\u8054\u7cfb\u7535\u8bdd([\d-]+))?/);return h&&5===h.length&&(n=s.innerCapture(/\u3010(.+)\u3011/,1),a=h[1],i=h[2].replace(/(\d{1,2})\/(\d{1,2}) (\d{1,2}:\d{2})/,function(t,r,n,a){var i=e.date?new Date(e.date):new Date,o=i.getFullYear();return i.getMonth()>Number(r)&&(o+=1),o+"-"+r+"-"+n+"T"+a+":00+08:00"}),p=h[3],h[4]),ASSERT(i)?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",reservationStatus:"http://schema.org/ReservationConfirmed",reservationId:p,underName:{"@type":"http://schema.org/Person"},provider:{"@type":"http://schema.org/Organization",name:n},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:a}},pickupTime:i,pickupLocation:{"@type":"http://schema.org/Place",name:o},dropoffLocation:{"@type":"http://schema.org/Place"}}]:void 0},function(){return{}},"SGfa175587"),new ReverseTemplate("1hai-modification-zh",function(){return!0},function(e){if(!/\u3010\u4e00\u55e8\u79df\u8f66\u3011/.test(e.plain))return CONTINUE;if(!/\u4fee\u6539\u6210\u529f!/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s="\u4e00\u55e8\u79df\u8f66",h=r.getSpan().innerCapture(/(\d+)\u4fee\u6539\u6210\u529f!(\d{1,2}\/\d{1,2}\s?\d{1,2}:\d{2})(.+?),\u8be6\u8be2([\d\-]+)/);return h&&5===h.length&&(n=h[1],a=h[2].replace(/(\d{1,2})\/(\d{1,2})\s?(\d{1,2}:\d{2})/,function(t,r,n,a){var i=e.date?new Date(e.date):new Date,o=i.getFullYear();return i.getMonth()>Number(r)&&(o+=1),o+"-"+r+"-"+n+"T"+a+":00+08:00"}),p=h[4],/\u5e97/.test((i=h[3]).toString())&&(h=i.innerCapture(/([\W\d\D]+?)(\W{1,4}\u5e97)/))&&3===h.length&&(i=h[1],o=h[2])),ASSERT(a)?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",reservationStatus:"http://schema.org/ReservationConfirmed",reservationId:n,underName:{"@type":"http://schema.org/Person"},provider:{"@type":"http://schema.org/Organization",name:s},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:i}},pickupTime:a,pickupLocation:{"@type":"http://schema.org/Place",name:o,telephone:p},dropoffLocation:{"@type":"http://schema.org/Place"}}]:void 0},function(){return{}},"SG051f3f74"),new ReverseTemplate("avis-confirmation-zh",function(){return!0},function(e){if(!/\u3010\u5b89\u98de\u58eb\u79df\u8f66\u3011/.test(e.plain))return CONTINUE;if(!/\u9884\u8ba2\u5df2\u6210\u529f/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c=r.getSpan(),u=c.innerCapture(/\u60a8\u5728(.+?)\((.+?)\)(.*?)\u7684(.+?)\u9884\u8ba2\u5df2\u6210\u529f\uff0c\u8ba2\u5355\u53f7(.+?)\u3002\u795d\u60a8\u7528\u8f66\u6109\u5feb\uff01.*\u5982\u9700\u5e2e\u52a9\u8bf7\u81f4\u7535\u5ba2\u670d\u70ed\u7ebf\uff1a(?:tel:)?(\d+)/);return u&&7===u.length&&(n=c.innerCapture(/\u3010(.+)\u3011/,1),a=u[1],i=u[2],o=u[3],p=u[4],s=u[5],h=u[6]),ASSERT(n,a,o,p,s,h)?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",reservationStatus:"http://schema.org/ReservationConfirmed",reservationId:s,underName:{"@type":"http://schema.org/Person"},provider:{"@type":"http://schema.org/Organization",name:n},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:p}},pickupTime:o,pickupLocation:{"@type":"http://schema.org/Place",name:a,telephone:h,address:i},dropoffLocation:{"@type":"http://schema.org/Place"}}]:void 0},function(){return{}},"SG9be53214"),new ReverseTemplate("zuche-confirmation-zh",function(){return!0},function(e){if(!/\u3010\u795e\u5dde\u79df\u8f66\u3011/.test(e.plain))return CONTINUE;if(!/\u5df2\u786e\u8ba4/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h=r.getSpan(),c=h.innerCapture(/\u60a8\u9884\u8ba2\u7684(.+)\u5df2\u786e\u8ba4\uff0c\u8bf7\u4e8e(\d+\u6708\d+\u65e5\d+:\d+)\u5230(.*)\u53d6\u8f66\u3002\u5730\u5740(.*)\uff0c\u7535\u8bdd(.+)\uff1b/);return c&&6===c.length&&(n=h.innerCapture(/\u3010(.+)\u3011/,1),a=c[1],i=c[2],o=c[3],p=c[4],s=c[5]),ASSERT(n,a,o,p,s)?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",reservationStatus:"http://schema.org/ReservationConfirmed",underName:{"@type":"http://schema.org/Person"},provider:{"@type":"http://schema.org/Organization",name:n},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:a}},pickupTime:i,pickupLocation:{"@type":"http://schema.org/Place",name:o,address:p,telephone:s},dropoffLocation:{"@type":"http://schema.org/Place",name:o,address:p,telephone:s}}]:void 0},function(){return{}},"SG7e5690ca"),new ReverseTemplate("flight-generic",function(e){return loadHelper("ShouldDownloadMessageWithClassifier.js")(e,"flight")},function(e){if("sms"===e.documentType)return loadHelper("flight_generic_sms.js")(e);var t=loadHelper("override_to_category.js")(e);return t&&"function"==typeof t?t(e):loadHelper("flight_generic.js")(e)},function(){return{}},"SG2bd79eb0"),new ReverseTemplate("homeinns-confirmation-zh",function(){return!0},function(e){if(!/\u3010\u5982\u5bb6\u9152\u5e97\u96c6\u56e2\u3011/.test(e.plain))return CONTINUE;if(!/\u5982\u5bb6\u9152\u5e97\u96c6\u56e2/.test(e.plain))return CONTINUE;if(!/\u786e\u8ba4/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c,u,g,m=r.getSpan();n=m.innerCapture(/\u3010(.+)\u3011/,1);var d=m.innerCapture(/(\d{1,2}\/\d{1,2})\u5165\u4f4f.+(\d+)\u665a/);return d&&3===d.length&&([,a,o]=d),(d=m.innerCapture(/[\(\uff08](.+?)[\(\uff08].*?T:([\d-]+)/))&&3===d.length?[,g,u]=d:(d=m.innerCapture(/[\(\uff08](.+)T:([\d-]+)/))&&3===d.length&&([,g,u]=d),a=r.getDetachedSpan(a.toString().replace(/(\d{1,2})\/(\d{1,2})/,function(e,t,r){return t+"\u6708"+r+"\u65e5"})),o&&(i=modifyDate(a,int(o.toString()))),ASSERT(n,a,g)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person"},provider:{"@type":"http://schema.org/Person",name:n},totalPrice:p,priceCurrency:s,checkinTime:a,checkoutTime:i,reservationStatus:"http://schema.org/ReservationConfirmed",reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:h,url:c,telephone:u,address:g}}]:void 0},function(){return{}},"SGf535df14"),new ReverseTemplate("huazhu-confirmation-zh",function(){return!0},function(e){if(!/(?:\u3010\u534e\u4f4f\u9152\u5e97\u96c6\u56e2\u3011|\u3010\u534e\u4f4f\u4f1a\u3011)/.test(e.plain))return CONTINUE;if(!/(?:\u534e\u4f4f\u9152\u5e97\u96c6\u56e2|\u534e\u4f4f\u4f1a)/.test(e.plain))return CONTINUE;if(!/\u786e\u8ba4/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c,u,g,m=r.getSpan(),d=m.innerCapture(/(?:\u3010.+\u3011)?(.+\u9152\u5e97).*?((?:\d{4}-\d{2}-\d{2}|\d{1,2}\/\d{1,2}))\u5165\u4f4f.*?(\d+)\u665a.*\u5730\u5740\uff1a(.+)[\uff0c|,]/);return d&&5===d.length&&(n=m.innerCapture(/\u3010(.+?)\u3011/,1),[,a,i,p,g]=d),/\//.test(i)?i=r.getDetachedSpan(i.toString().replace(/(\d{1,2})\/(\d{1,2})/,function(e,t,r){return t+"\u6708"+r+"\u65e5"})):/\./.test(i)&&(i=r.getDetachedSpan(i.toString().replace(/(\d{1,2})\.(\d{1,2})/,function(e,t,r){return t+"\u6708"+r+"\u65e5"}))),p&&(o=modifyDate(i,int(p.toString()))),/http/.test(g)?[,g,c]=g.innerCapture(/(.+),(http.+)\uff1b/):/\uff0c/.test(g)&&(g=g.innerCapture(/(.+?)\uff0c/,1)),ASSERT(a,i,g)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person"},provider:{"@type":"http://schema.org/Person",name:n},totalPrice:s,priceCurrency:h,checkinTime:i,checkoutTime:o,reservationStatus:"http://schema.org/ReservationConfirmed",reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:a,url:c,telephone:u,address:g}}]:void 0},function(){return{}},"SG13192355"),new ReverseTemplate("maoyan-movie-sms-confirmation-zh",function(){return!0},function(e){if(!/\u3010\u732b\u773c\u7535\u5f71\u3011/.test(e.plain))return CONTINUE;var t=Scanner.fromMessage(e);t.setLocale("zh_Hans_CN");var r,n,a=t.getSpan(),i=a.innerCapture(/\u9a8c\u8bc1\u7801([A-Z\d]{6,})/,1),o=a.innerCapture(/\u300a(.+?)\u300b/,1),p=a.innerCapture(/\u3002(\d{1,2}\u6708\d{1,2}\u65e5.+?\u4e00?(\d{1,2}:\d{2}))/);if(p&&3===p.length&&(r=p[1].innerAbsoluteDate(),hasTime(r)||(r=combineDateAndTime(r,p[2])),n=a.innerCapture(regExpFormatted(/\1(.+?)\u300a/,p[2].toString()),1)),ASSERT(o,i,r)){var s,h,c,u=a.innerCapture(/(\d{1,2})\u53f7\u5385(\d{1,2})\u6392(\d{1,2})\u5ea7/);return u&&4===u.length&&(c=u[1],h=u[2],s=u[3]),[{"@context":"http://schema.org","@type":"http://schema.org/EventReservation",reservationId:i,reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:s,seatRow:h,seatSection:c}},reservationFor:{"@type":"http://schema.org/MovieShowing",eventStatus:"http://schema.org/EventConfirmed",movie:{"@type":"http://schema.org/Movie",name:o},startDate:r,location:{"@type":"http://schema.org/Place",name:n}}}]}},function(){return{}},"SG9288e813"),new ReverseTemplate("alitrip-flight-basic-sms-confirmation-zh",function(){return!0},function(e){if(!/\u3010\u963f\u91cc\u65c5\u884c\u3011/.test(e.plain))return CONTINUE;if(!/\u5356\u5bb6\u5df2\u786e\u8ba4\u60a8\u7684\u673a\u7968\u8ba2\u5355/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c=r.getSpan().innerCapture(/\u5356\u5bb6\u5df2\u786e\u8ba4\u60a8\u7684\u673a\u7968\u8ba2\u5355(.+)\u7968\u53f7\uff0c(.+)\(\u7968\u53f7\uff1a(.+)\)/),u=c[2],g=c[3];if(4!==c.length)return CONTINUE;if(ASSERT(c[1],u)){var m=[],d={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:p,airlineCode:s,flightNumber:h,departureAirportFuzzy:n,departureTime:i,arrivalAirportFuzzy:a,arrivalTime:o},underName:{"@type":"http://schema.org/Person",name:u.toString()},reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:g.toString(),ticketedSeat:{"@type":"http://schema.org/Seat"}},reservationStatus:"http://schema.org/ReservationConfirmed"};return m.push(d),m}},function(){return{}},"SG3363c2ad"),new ReverseTemplate("alitrip-flight-sms-cancellation-zh",function(){return!0},function(e){if(!/\u3010\u963f\u91cc\u65c5\u884c\u3011/.test(e.plain))return CONTINUE;if(!/\u9000\u7968\u7533\u8bf7\u5df2\u7ecf\u6210\u529f\u9000\u6b3e/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n=r.getSpan().innerCapture(/\u673a\u7968\u8ba2\u5355(\d+?)\u7533\u8bf7\u5355\u53f7\u4e3a\d+?\u7684\u9000\u7968\u7533\u8bf7\u5df2\u7ecf\u6210\u529f\u9000\u6b3e/i,1),a={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationStatus:"http://schema.org/ReservationCancelled",reservationFor:{"@type":"http://apple.com/FuzzyFlight"},reservationId:n};return ASSERT(n)?[a]:void 0},function(){return{}},"SGe176cff4"),new ReverseTemplate("alitrip-flight-sms-change-zh",function(){return!0},function(e){if(!/\u3010\u963f\u91cc\u65c5\u884c\u3011/.test(e.plain))return CONTINUE;if(!/\u822a\u73ed\u8d77\u98de\u65f6\u95f4\u53d1\u751f\u53d8\u66f4/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h=r.getSpan().innerCapture(/\u60a8\u8d2d\u4e70\u7684.+?\uff0c\u822a\u73ed\u53f7([A-Z0-9]{2})(\d{2,4})\u8ba2\u5355\u53f7(\d+?)\uff0c.+?\u6700\u65b0\u8d77\u98de\u65f6\u95f4\u4e3a(.+?)\s(.+?)\uff0c\u8bf7\u5b89\u6392\u597d\u60a8\u7684\u884c\u7a0b/);h&&6===h.length&&(p=h[1],s=h[2],n=h[3],i=h[4],o=h[5]);var c={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineCode:p,flightNumber:s,departureAirportFuzzy:a,departureTime:i+"T"+o},reservationStatus:"http://schema.org/ReservationConfirmed",reservationId:n};return ASSERT(n)?[c]:void 0},function(){return{}},"SG3ede88bf"),new ReverseTemplate("alitrip-flight-sms-confirmation-zh",function(){return!0},function(e){if(!/\u3010\u963f\u91cc\u65c5\u884c\u3011/.test(e.plain))return CONTINUE;if(!/\u8bf7\u63d0\u524d\u81f3\u5c112\u5c0f\u65f6\u5230\u8fbe\u673a\u573a\u529e\u7406\u767b\u673a\u3002/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c,u=r.getSpan().innerCapture(/(?:\u3010.+\u3011)?(.+)\uff0c\s?\u8ba2\u5355(.+)\u5df2\u51fa\u7968\uff0c(.+?)\u3002/);u&&4===u.length&&(n=u[1],a=u[2],i=u[3]);var g=[];if(ASSERT(a,n)){var m=[],d=[],l=[],f=i.toString().replace(/\(\u7968\u53f7\uff1a(.+)\)/,""),v=i.toString().match(/\(\u7968\u53f7\uff1a(.+)\)/);d=f.split("/"),null!==v&&(l=v[1].toString().split("/")),g=n.split("/");for(var S=0;S<d.length;S++)for(var N=0;N<g.length;N++){var T=g[N].toString().match(/(\d+?-\d+?)\s(\d{1,2}:\d{1,2})(.+?)\u98de-*?(\d{1,2}:\d{1,2})(.+?)\-*?\u964d(.*?)([A-Z0-9]{2})([0-9]+)/);s=T[1],h=T[2],p=T[3].replace(/-/g,""),c=T[4],o=T[5].replace(/-/g,"");var C={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:T[6],airlineCode:T[7],flightNumber:T[8],departureAirportFuzzy:p,departureTime:s+"T"+h,arrivalAirportFuzzy:o,arrivalTime:s+"T"+c},underName:{"@type":"http://schema.org/Person",name:d[S].toString()},reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:l[S].toString(),ticketedSeat:{"@type":"http://schema.org/Seat"}},reservationStatus:"http://schema.org/ReservationConfirmed",reservationId:a};m.push(C)}return m}},function(){return{}},"SGb31cadac"),new ReverseTemplate("alitrip-hotel-sms-confirmation-zh",function(){return!0},function(e){if(!/\u3010\u963f\u91cc\u65c5\u884c\u3011/.test(e.plain))return CONTINUE;if(!/\u9152\u5e97\u786e\u8ba4\u6210\u529f/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c=r.getSpan().innerCapture(/\u9152\u5e97\u786e\u8ba4\u6210\u529f\uff1a(.+?)\uff0c\u8ba2\u5355(\d+?)\uff0c(\d+?\u6708\d+?\u65e5)(.+?)\d+\u95f4\d+\u665a\uff0c\u5230\u5e97\u652f\u4ed8(.+?)\u5df2\u786e\u8ba4\uff0c.+?\u3002.+?\u3002(.+?)(?:(\d{3,4}-\d{7,8},\d{11}|\d{11}|\d{3,4}-\d{7,8}))\u3002/);if(c&&8===c.length&&(a=c[1],n=c[2],i=c[3],o=c[4],p=c[5],s=c[6],h=c[7]),i&&(i=getFuzzyDate(r.getDetachedSpan(i.toString()))),ASSERT(a,i)){for(var u=[],g=a.split(" "),m=0;m<g.length;m++){var d={"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:g[m].toString()},totalPrice:p,checkinTime:i,reservationStatus:"http://schema.org/ReservationConfirmed",reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:o,telephone:h,address:s},confirmationID:n};u.push(d)}return u}},function(){return{}},"SG674673cd"),new ReverseTemplate("ctrip-flight-basic-confirmation-zh",function(){return!0},function(e){if(!/\u3010\u643a\u7a0b\u7f51\u3011/.test(e.plain))return CONTINUE;if(!/\u673a\u7968\u5df2\u786e\u8ba4\uff1a\u8ba2\u5355/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c,u,g,m=r.getSpan().innerCapture(/\u673a\u7968\u5df2\u786e\u8ba4\uff1a\u8ba2\u5355(.+)\u6b63\u5728\u51fa\u7968\u300e(.+)\u300f/);if(m&&3===m.length&&(n=m[1],a=m[2]),ASSERT(n,a)){var d=[];if(null!==(s=a.toString().match(/\uff08\d\uff09(.+?-.+? \d+?\u6708\d+?\u65e5)/g)))i=(i=a).toString().replace(/\uff08\d\uff09(.+?-.+? \d+?\u6708\d+?\u65e5)/g,""),h=s.toString().split(",");else{var l=a.toString().match(/(.+?-.+? \d+?\u6708\d+?\u65e5)/g);i=(i=a).toString().replace(/(.+?-.+? \d+?\u6708\d+?\u65e5)/g,""),h=l.toString().split(",")}for(var f=i.toString().split("\uff0c"),v=0;v<f.length;v++)for(var S=0;S<h.length;S++){var N=h[S].toString().match(/[\uff09|]*(.+?)-(.+?) (\d{1,2}\u6708\d{1,2}\u65e5)/);o=(o=N[1]).toString().replace(/\\uff08(\d)+\\uff09/,""),p=N[2];var T={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:u,airlineCode:g,flightNumber:c,departureAirportFuzzy:o,departureTime:getFuzzyDate(r.getDetachedSpan(N[3].toString())),arrivalAirportFuzzy:p},underName:{"@type":"http://schema.org/Person",name:f[v].toString()},reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat"}},reservationStatus:"http://schema.org/ReservationConfirmed"};d.push(T)}return d}},function(){return{}},"SGbf1563c7"),new ReverseTemplate("ctrip-flight-confirmation-VIP-lounge-zh",function(){return!0},function(e){if(!/\u3010\u643a\u7a0b\u7f51\u3011/.test(e.plain))return CONTINUE;if(!/\u8d35\u5bbe\u4f11\u606f\u5ba4\u5df2\u4e0b\u5355\u6210\u529f\uff01/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c,u=r.getSpan().innerCapture(/\u8ba2\u5355(.+?)\uff0c.*\u51fa\u884c\u4eba:(.+),/);if(u&&3===u.length&&(c=u[1],n=u[2]),ASSERT(c,n)){for(var g=[],m=n.split(","),d=0;d<m.length;d++){var l={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:i,airlineCode:o,flightNumber:h,departureAirportFuzzy:p,departureTime:a,arrivalAirportFuzzy:s},underName:{"@type":"http://schema.org/Person",name:m[d].toString()},reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat"}},reservationStatus:"http://schema.org/ReservationConfirmed"};g.push(l)}return g}},function(){return{}},"SGc2a4fc89"),new ReverseTemplate("ctrip-flight-tickets-issued-2-zh",function(){return!0},function(e){if(!/\u3010(?:\u643a\u7a0b\u7f51|XC|http:\/\/t\.ctrip\.cn\/.+)\u3011/.test(e.plain))return CONTINUE;if(!/\u8ba2\u5355\d+?\u5df2\u51fa\u7968/.test(e.plain))return CONTINUE;if(!/(?:\u8bf7\u63d0\u524d2\u5c0f\u65f6\u81f3\u673a\u573a\u503c\u673a|\u5efa\u8bae\u63d0\u524d3\u5c0f\u65f6\u5230\u8fbe\u673a\u573a\u529e\u7406\u503c\u673a|\u5efa\u8bae\u63d0\u524d90\u5206\u949f\u5230\u673a\u573a\u503c\u673a)/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a=r.getSpan(),i=[],o=[],p=[],s=[/([A-Z0-9]{2})(\d{1,4})(.+?)-(.+?)(\d+\u6708\d+\u65e5\d+:\d+)-(\d+\u6708\d+\u65e5\d+:\d+)/,/(.+?)-(.+?)\uff0c(\d+\u6708\d+\u65e5)(\d+:\d+)-(\d+:\d+).+?([A-Z0-9]{2})(\d{1,4})/];n=a.innerCapture(/\u8ba2\u5355(\d+?)\u5df2\u51fa\u7968/,1);var h=a=a.innerCapture(/[\uff0c\u300e](.+)[\uff1b\u300f]/,1);if(s[0].test(a.toString()))for(;h.exists();){(c=h.innerCapture(s[0]))&&7===c.length&&i.push({airlineCode:c[1],flightNumber:c[2],departureAirportName:c[3].trim(),arrivalAirportName:c[4].trim(),departureDateTime:c[5].replace(/(\d+\u6708\d+\u65e5)(\d+:\d+)/,"$1 $2").innerDate(),arrivalDateTime:c[6].replace(/(\d+\u6708\d+\u65e5)(\d+:\d+)/,"$1 $2").innerDate()}),h=h.next(/\\uff08\d+\\uff09/).next(s[0])}else if(s[1].test(a.toString())){var c;(c=h.innerCapture(s[1]))&&8===c.length&&i.push({airlineCode:c[6],flightNumber:c[7],departureAirportName:c[1].trim(),arrivalAirportName:c[2].trim(),departureDateTime:r.getDetachedSpan(c[3]+" "+c[4]).innerDate(),arrivalDateTime:r.getDetachedSpan(c[3]+" "+c[5]).innerDate()})}var u=0;for(h=a.next(/\u7968\u53f7[\d-]+/).previous(/[\s\uff1b]/).next(/(\D+?)\uff0c\u7968\u53f7[\d-]+/);h.exists()&&(u++,o.push({name:h.innerCapture(/[\uff1b\s]?(\D+?)\uff0c\u7968\u53f7[\d-]+/,1)}),h=h.next(/[\uff1b\s]\D+?\uff0c\u7968\u53f7[\d-]+/),!(u>10)););return 0===o.length&&o.push({}),i.forEach(function(e){o.forEach(function(t){p.push({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationId:n,reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:e.airlineName,airlineCode:e.airlineCode,flightNumber:e.flightNumber,departureAirportFuzzy:e.departureAirportName,departureTime:e.departureDateTime,arrivalAirportFuzzy:e.arrivalAirportName,arrivalTime:e.arrivalDateTime},underName:{"@type":"http://schema.org/Person",name:t.name},reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:t.ticketNumber,ticketedSeat:{"@type":"http://schema.org/Seat"}},reservationStatus:"http://schema.org/ReservationConfirmed"})})}),ASSERT(p.length>0),p},function(){return{}},"SGf7e848a6"),new ReverseTemplate("ctrip-flight-tickets-issued-zh",function(){return!0},function(e){if(!/\u3010\u643a\u7a0b\u7f51\u3011/.test(e.plain))return CONTINUE;if(!/\u673a\u7968\u5df2\u51fa\uff1a\u8ba2\u5355/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c,u,g,m,d,l=r.getSpan().innerCapture(/\u673a\u7968\u5df2\u51fa\uff1a\u8ba2\u5355(.+)\uff0c\u300e(.+?)\u300f/);if(l&&3===l.length&&(n=l[1],a=l[2]),ASSERT(n,a)){var f=[];if(null!==(s=a.toString().match(/(\\uff08\d\\uff09.+?-.+? \d+?\u6708\d+?\u65e5\d+?:\d+?-\d+?\u6708\d+?\u65e5\d+:\d+)/g)))i=(i=a).toString().replace(/(.+?-.+? \d+?\u6708\d+?\u65e5\d+?:\d+?-\d+?\u6708\d+?\u65e5\d+:\d+ )/g,""),(h=s.toString().split(/\uff08\d\uff09/)).shift();else{var v=a.toString().match(/(.+?-.+? \d+?\u6708\d+?\u65e5\d+?:\d+?-\d+?\u6708\d+?\u65e5\d+?:\d+? )/g);i=(i=a).toString().replace(/(.+?-.+? \d+?\u6708\d+?\u65e5\d+?:\d+?-\d+?\u6708\d+?\u65e5\d+?:\d+? )/g,""),h=v.toString().split(/\uff08\d\uff09/)}var S,N,T="",C=i.toString().split("\uff0c");N=C.length>1?C.length-1:C.length,S=i.toString().split(/([\u4e00-\u9fa5]+)\uff0c\u7968\u53f7/g);for(var y=[],z=[],R=0;R<N;R++){S.length>1?(z[R]=S[2*R+1],y[R]=S[2*R+2]):(z[R]=S,y[R]=null);for(var E=0;E<h.length;E++){var F=h[E].toString().match(/[,|]*(.+?)\s(.+)\s(.+)-(.+?) (\d{1,2}\u6708\d{1,2}\u65e5\d{1,2}:\d{1,2})-(\d{1,2}\u6708\d{1,2}\u65e5\d{1,2}:\d{1,2})/);m=F[1],d=F[2].match(/[A-Z0-9]{2}/),g=F[2].replace(d,""),o=F[3],p=F[4],c=getFuzzyDate(r.getDetachedSpan(F[5].toString())),u=getFuzzyDate(r.getDetachedSpan(F[6].toString())),null!==y[R]&&(T=y[R].match(/[0-9\-]+/),y[R]=y[R].replace(/[0-9\-]+/));var A={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:m.toString(),airlineCode:d.toString(),flightNumber:g.toString(),departureAirportFuzzy:o,departureTime:c,arrivalAirportFuzzy:p,arrivalTime:u},underName:{"@type":"http://schema.org/Person",name:z[R].toString()},reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:T.toString(),ticketedSeat:{"@type":"http://schema.org/Seat"}},reservationStatus:"http://schema.org/ReservationConfirmed"};f.push(A)}}return f}},function(){return{}},"SGf70347dd"),new ReverseTemplate("ctrip-hotel-confirmation-zh",function(){return!0},function(e){if(!/\u3010(?:\u643a\u7a0b\u7f51|XC)\u3011/.test(e.plain))return CONTINUE;if(!/ctrip\.cn/.test(e.plain))return CONTINUE;if(!/(?:\u9884\u8ba2\u6210\u529f|\u786e\u8ba4)/.test(e.plain))return CONTINUE;if(!/\u9152\u5e97\u5730\u5740/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c,u=r.getSpan(),g=[],m=[/(.+(?:\u9152\u5e97|\u996d\u5e97)(?:\uff08.+\u5e97\uff09)?)/,/(.+(?:\uff08.+\u5e97\uff09))/,/(.+\u5e97)/],d=u.innerCapture(/\u786e\u8ba4\u53f7\uff1a([A-Z0-9]+)/,1),l=u.innerCapture(/\uff1a(.+?)\s(\d{4}\/\d{1,2}\/\d{1,2})\u5165\u4f4f(.+?)[\(|\uff08|\uff0c].*\d+\u95f4(\d+)\u665a\uff0c(?:\u5230\u5e97\u652f\u4ed8:|\u603b\u4ef7)([\D]+)([\d.]+)\uff0c.*\u9152\u5e97\u5730\u5740\uff1a(.+)\uff0cT\uff1a([0-9\-]+)/);if(l&&9===l.length){n=l[1],a=l[2].innerDate(),i=modifyDate(a,l[4]),o=l[3],h=l[7],c=l[8],p=l[6],s=l[5];for(var f=0;f<m.length;f++){var v=o.innerCapture(m[f],1);if(v.exists()){o=v;break}}}return ASSERT(a,OR(o,h))&&n.split(",").forEach(function(e){g.push({"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",reservationId:d,underName:{"@type":"http://schema.org/Person",name:e},totalPrice:p,priceCurrency:s,checkinTime:a,checkoutTime:i,reservationStatus:"http://schema.org/ReservationConfirmed",reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:o,telephone:c,address:h}})}),ASSERT(g.length>0),g},function(){return{}},"SGa0c3bee7"),new ReverseTemplate("elong-flight-cancellation-zh",function(){return!0},function(e){if(!/\[\u827a\u9f99\]/.test(e.plain))return CONTINUE;if(!/\u673a\u7968\u8ba2\u5355/.test(e.plain))return CONTINUE;if(/\u672a\u5728\u65f6\u9650\u5185\u652f\u4ed8\u6210\u529f/.test(e.plain))return STOP;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c,u,g,m,d=r.getSpan();if(/\u5df2\u529e\u9000\u7968/.test(e.plain)?(m=d.innerCapture(/\u673a\u7968\u8ba2\u5355(.+?),(.+?),(\d{1,2}\u6708\d{1,2}\u65e5)(\d{1,2}:\d{2})(.+?)([0-9A-Z]{2})(\d{3,4})(?:\(.+[0-9A-Z]{2}\d{3,4}\))?(.+)-(.+)\u5df2\u529e\u9000\u7968?/))&&10===m.length&&(g=m[1],n=m[2],a=m[3],i=m[4],o=m[5],p=m[6],u=m[7],s=m[8],c=m[9]):(m=d.innerCapture(/\u673a\u7968\u8ba2\u5355(.+?),(.+?),(\d{1,2}\u6708\d{1,2}\u65e5)(\d{1,2}:\d{2})(.+?)([0-9A-Z]{2})(\d{3,4})(?:\(.+[0-9A-Z]{2}\d{3,4}\))?(.+\u673a\u573a).*-(\d{1,2}:\d{2})?(.+\u673a\u573a)/))&&11===m.length&&(g=m[1],n=m[2],a=m[3],i=m[4],o=m[5],p=m[6],u=m[7],s=m[8],h=m[9],c=m[10]),i=r.getDetachedSpan(a+" "+i),h){var l=int(i.toString().split(":")[0]),f=int(h.toString().split(":")[0]);h=r.getDetachedSpan(a+" "+h),f<l&&(h=modifyDate(h,1))}if(ASSERT(n)){for(var v=[],S=n.split(","),N=0;N<S.length;N++)ASSERT(o||p,u,s,i)&&v.push({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:o,airlineCode:p,flightNumber:u,departureAirportFuzzy:s,departureTime:i,arrivalAirportFuzzy:c,arrivalTime:h},underName:{"@type":"http://schema.org/Person",name:S[N].toString()},reservationId:g,reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat"}},reservationStatus:"http://schema.org/ReservationCancelled"});return v}},function(){return{}},"SG67250e2d"),new ReverseTemplate("elong-flight-confirmation-zh",function(){return!0},function(e){if(!/\[el\]/.test(e.plain))return CONTINUE;if(!/\u827a\u9f99\u786e\u8ba4/.test(e.plain))return CONTINUE;if(!/\u3010\u5b89\u5168\u63d0\u9192\u3011/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c,u,g=r.getSpan().innerCapture(/\u827a\u9f99\u786e\u8ba4:(.+),.*(\d{1,2}\u6708\d{1,2}\u65e5)(\d{1,2}:\d{1,2})?([\u4e00-\u9fa5]*)([A-Z0-9]{2})([0-9]+)(.+\u673a\u573a).*-(\d{1,2}:\d{1,2})(.+?),/);if(g&&10===g.length&&(n=g[1],a=g[2],i=g[3],o=g[4],p=g[5],u=g[6],s=g[7],h=g[8],c=g[9]),i=r.getDetachedSpan(a+" "+i),h=r.getDetachedSpan(a+" "+h),ASSERT(n,i)){for(var m=[],d=n.split(","),l=0;l<d.length;l++){var f={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:o,airlineCode:p,flightNumber:u,departureAirportFuzzy:s,departureTime:i,arrivalAirportFuzzy:c,arrivalTime:h},underName:{"@type":"http://schema.org/Person",name:d[l].toString()},reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat"}},reservationStatus:"http://schema.org/ReservationConfirmed"};m.push(f)}return m}},function(){return{}},"SG3166b584"),new ReverseTemplate("elong-hotel-confirmation-zh",function(){return!0},function(e){if(!/\[\u827a\u9f99\]\u786e\u8ba4/.test(e.plain))return CONTINUE;if(!/\u4fdd\u7559\u5230/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c,u=r.getSpan(),g=u.innerCapture(/.*\u786e\u8ba4:\u8ba2\u5355(\d+)(.+?)(\d{1,2}\u6708\d{1,2}\u65e5)\u81f3*(\d{1,2}\u65e5)?(.+?\u5e97).*\u603b\u4ef7(.+);\u5730\u5740:(.+?)([0-9\-]+);/);if(g&&9===g.length&&(n=g[2],a=g[3],i=g[4],o=g[5],p=g[6],s=g[7],h=g[8]),c=u.innerLink(),i&&i.toString().length>0){var m=a.toString().match(/(\d{1,2}\u6708)/),d=i.toString().match(/(\d{1,2}\u65e5)/);i=m[1].concat(d[1]),i=getFuzzyDate(r.getDetachedSpan(i.toString()))}if(a&&(a=getFuzzyDate(r.getDetachedSpan(a.toString()))),ASSERT(n,a)){for(var l=[],f=n.split(" "),v=0;v<f.length;v++){var S={"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:f[v].toString()},totalPrice:p,checkinTime:a,checkoutTime:i,reservationStatus:"http://schema.org/ReservationConfirmed",reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:o,url:c,telephone:h,address:s}};l.push(S)}return l}},function(){return{}},"SGdbcfd0fe"),new ReverseTemplate("ly.com-flight-cancellation-zh",function(){return!0},function(e){if(!/\u3010\u540c\u7a0b\u65c5\u6e38\u3011/.test(e.plain))return CONTINUE;if(!/\u7684\u822a\u73ed.+\u8ba2\u5355\u5df2\u7ecf\u53d6\u6d88/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c,u,g=r.getSpan(),m=g.innerCapture(/\u5ba2\u5b98\uff0c(.+)\u7684\u822a\u73ed(.+)-(.+)(\d{2}\u6708\d{2}\u65e5)(\d{2}:\d{2})-(\d{2}\u6708\d{2}\u65e5)(\d{2}:\d{2})([^A-Z0-9\uff0c]+)([A-Z0-9]{2})(\d{1,4})\uff0c\u8ba2\u5355\u5df2\u7ecf\u53d6\u6d88/);m&&11===m.length&&(g.innerCapture(/\u3010(.+)\u3011/,1),n=m[1],a=m[2],i=m[3],o=m[4],p=m[5],m[6],s=m[7],h=m[8],c=m[9],u=m[10]);for(var d=r.getDetachedSpan(o+""+p),l=r.getDetachedSpan(o+""+s),f=n.split(","),v=[],S=0;S<f.length;S++){var N=f[S];if(ASSERT(N,c,u))v.push({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",departureAirportFuzzy:a,departureTime:d,arrivalAirportFuzzy:i,arrivalTime:l,airlineName:h,airlineCode:c,flightNumber:u},underName:{"@type":"http://schema.org/Person",name:N},reservationStatus:"http://schema.org/ReservationCancelled",reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat"}}})}return ASSERT(v)?v:void 0},function(){return{}},"SG9b54db7a"),new ReverseTemplate("ly.com-flight-change-zh",function(){return!0},function(e){if(!/\u3010\u540c\u7a0b\u65c5\u6e38\u3011/.test(e.plain))return CONTINUE;if(!/\u7684\u822a\u73ed\u5df2\u6539\u7b7e\u81f3/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c,u=r.getSpan(),g=u.innerCapture(/\u5c0a\u656c\u7684(.+)\u5ba2\u5b98\uff0c.+\u7684\u822a\u73ed\u5df2\u6539\u7b7e\u81f3(\d{2}\u6708\d{2}\u65e5)(\d{2}:\d{2})(.+)-(.+[^\u4e00-\u9fa5])([\u4e00-\u9fa5]+)([A-Z0-9]{2})(\d{1,4})\u822a\u73ed/);g&&9===g.length&&(u.innerCapture(/\u3010(.+)\u3011/,1),n=g[1],o=g[2],p=g[3],a=g[4],i=g[5],s=g[6],h=g[7],c=g[8]);for(var m=r.getDetachedSpan(o+""+p),d=n.split(","),l=[],f=0;f<d.length;f++){var v=d[f];if(ASSERT(v,h,c))l.push({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:s,airlineCode:h,flightNumber:c,departureAirportFuzzy:a,departureTime:m,arrivalAirportFuzzy:i},underName:{"@type":"http://schema.org/Person",name:v},reservationStatus:"http://schema.org/ReservationConfirmed",reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat"}}})}return ASSERT(l)?l:void 0},function(){return{}},"SG87a2f549"),new ReverseTemplate("ly.com-flight-confirmation-multiple-legs-zh",function(){return!0},function(e){if(!/\u3010\u540c\u7a0b\u65c5\u6e38\u3011/.test(e.plain))return CONTINUE;if(!/\u5c0a\u656c\u7684\u540c\u7a0b\u4f1a\u5458\uff0c\u60a8\u7684\u673a\u7968\u6211\u53f8\u5df2\u7ecf\u4e3a\u60a8\u51fa\u7968\uff0c\u4e58\u673a\u4eba\uff1a/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c,u,g,m=r.getSpan(),d=m.innerCapture(/\u4e58\u673a\u4eba\uff1a(.+)\s+((?:\d{2}\u6708\d{2}\u65e5.+)+)\uff0c\u7968\u53f7([\d\,]+),/);d&&4===d.length&&(m.innerCapture(/\u3010(.+)\u3011/,1),[,n,a,i]=d);var l,f=n.split(","),v=/(\d{2}\u6708\d{2}\u65e5)(\d{2}\uff1a\d{2})([^A-Z0-9;]+)\s*([A-Z0-9]{2})(\d{1,4})(.+)-(.+)/,S=a.split("\uff1b"),N=i.split(","),T=[];if(f.length===N.length)for(l=0;l<f.length;l++)T.unshift({underName:f[l],ticketNumber:N[l]});else T=[{underName:n,ticketNumber:i}];var C=[];for(l=0;l<T.length;l++)for(var y=T[l].underName,z=T[l].ticketNumber,R=0;R<S.length;R++)if(8===(d=S[R].innerCapture(v)).length){[,s,h,c,u,g,o,p]=d;var E=r.getDetachedSpan(s+""+h);if(ASSERT(y,u,g,z))C.unshift({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationStatus:"http://schema.org/ReservationConfirmed",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:c,airlineCode:u,flightNumber:g,departureAirportFuzzy:o,departureTime:E,arrivalAirportFuzzy:p},underName:{
"@type":"http://schema.org/Person",name:y},reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:z,ticketedSeat:{"@type":"http://schema.org/Seat"}}})}return ASSERT(C)?C:void 0},function(){return{}},"SG112d4f6d"),new ReverseTemplate("ly.com-flight-confirmation-zh",function(){return!0},function(e){if(!/\u3010\u540c\u7a0b\u65c5\u6e38\u3011/.test(e.plain))return CONTINUE;if(!/\u7684\u822a\u73ed\u5df2\u51fa\u7968\uff01/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c,u,g=r.getSpan(),m=g.innerCapture(/\u5ba2\u5b98\uff0c(.+)\u7684\u822a\u73ed\u5df2\u51fa\u7968\uff01(.+)-(.+)(\d{2}\u6708\d{2}\u65e5)(\d{2}:\d{2})-(\d{2}:\d{2})([^A-Z0-9\uff0c]+)([A-Z0-9]{2})(\d{1,4})\uff0c/);m&&10===m.length&&(g.innerCapture(/\u3010(.+)\u3011/,1),n=m[1],a=m[2],i=m[3],o=m[4],p=m[5],s=m[6],h=m[7],c=m[8],u=m[9]);var d=r.getDetachedSpan(o+""+p),l=r.getDetachedSpan(o+""+s);r.getDateDD(d).iso8601>r.getDateDD(l).iso8601&&(l=modifyDate(l,1));for(var f=n.split(","),v=[],S=0;S<f.length;S++){var N=f[S];if(ASSERT(N,c,u))v.push({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:h,airlineCode:c,flightNumber:u,departureAirportFuzzy:a,departureTime:d,arrivalAirportFuzzy:i,arrivalTime:l},underName:{"@type":"http://schema.org/Person",name:N},reservationStatus:"http://schema.org/ReservationConfirmed",reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat"}}})}return ASSERT(v)?v:void 0},function(){return{}},"SG39e8871f"),new ReverseTemplate("ly.com-flight-refund-multiple-legs-zh",function(){return!0},function(e){if(!/\u3010\u540c\u7a0b\u65c5\u6e38\u3011/.test(e.plain))return CONTINUE;if(!/\u822a\u73ed\u9000\u7968\u5df2\u5b8c\u6210\uff0c/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c,u,g=r.getSpan(),m=g.innerCapture(/(?:\u3010.+\u3011)?(.+)\uff1a(.+)\u822a\u73ed\u9000\u7968\u5df2\u5b8c\u6210\uff0c/);m&&3===m.length&&(g.innerCapture(/\u3010(.+)\u3011/,1),[,n,a]=m);for(var d=n.split(","),l=/(.+)-(.+)(\d{2}\u6708\d{2}\u65e5)(\d{2}:\d{2})([^A-Z0-9;]+)\s*([A-Z0-9]{2})(\d{1,4})/,f=a.split(";"),v=[],S=0;S<d.length;S++)for(var N=d[S],T=0;T<f.length;T++)if(8===(m=f[T].innerCapture(l)).length){[,i,o,p,s,h,c,u]=m;var C=r.getDetachedSpan(p+""+s);if(ASSERT(N,c,u))v.unshift({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationStatus:"http://schema.org/ReservationCancelled",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:h,airlineCode:c,flightNumber:u,departureAirportFuzzy:i,departureTime:C,arrivalAirportFuzzy:o},underName:{"@type":"http://schema.org/Person",name:N},reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat"}}})}return ASSERT(v)?v:void 0},function(){return{}},"SGf415af06"),new ReverseTemplate("ly.com-flight-refund-zh",function(){return!0},function(e){if(!/\u3010\u540c\u7a0b\u65c5\u6e38\u3011/.test(e.plain))return CONTINUE;if(!/\u7684\u822a\u73ed\u5df2\u9000\u7968/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p=[],s=r.getSpan().innerCapture(/\u5ba2\u5b98\uff0c(.+)\u7684\u822a\u73ed\u5df2\u9000\u7968\uff0c(.+)-(.+)(\d{2}\u6708\d{2}\u65e5\d{2}:\d{2})\uff0c/);s&&5===s.length&&([,n,a,i,o]=s),n&&(p=n.split(","));for(var h=[],c=0;c<p.length;c++){var u=p[c];if(ASSERT(u,a,i,o))h.unshift({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",departureAirportFuzzy:a,departureTime:o,arrivalAirportFuzzy:i},underName:{"@type":"http://schema.org/Person",name:u},reservationStatus:"http://schema.org/ReservationCancelled",reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat"}}})}return ASSERT(h)?h:void 0},function(){return{}},"SGaa2d79bf"),new ReverseTemplate("ly.com-hotel-confirmation-zh",function(){return!0},function(e){if(!/\u3010XC\u3011/.test(e.plain))return CONTINUE;if(!/\u540c\u7a0b\u65c5\u6e38/.test(e.plain))return CONTINUE;if(!/\u540c\u7a0b\u65c5\u6e38\u786e\u8ba4\uff1a.+\u5165\u4f4f.+\uff0c\u603b\u4ef7/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c,u=r.getSpan(),g=[],m=[/(.+(?:\u9152\u5e97|\u996d\u5e97)(?:\uff08.+\u5e97\uff09)?)/,/(.+(?:\uff08.+\u5e97\uff09))/,/(.+\u5e97)/],d=u.innerCapture(/\u786e\u8ba4\u53f7\uff1a([A-Z0-9]+)/,1),l=u.innerCapture(/\uff1a(.+?)\s(\d{4}\/\d{1,2}\/\d{1,2})\u5165\u4f4f(.+?)[\(|\uff08|\uff0c].*\d+\u95f4(\d+)\u665a\uff0c\u603b\u4ef7([\D]+)([\d.]+)\uff0c.*\u9152\u5e97\u5730\u5740\uff1a(.+)\uff0cT\uff1a([0-9\-]+)/);if(l&&9===l.length){n=l[1],a=l[2].innerDate(),i=modifyDate(a,l[4]),o=l[3],h=l[7],c=l[8],p=l[6],s=l[5];for(var f=0;f<m.length;f++){var v=o.innerCapture(m[f],1);if(v.exists()){o=v;break}}}return ASSERT(a,OR(o,h))&&n.split(",").forEach(function(e){g.push({"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",reservationId:d,underName:{"@type":"http://schema.org/Person",name:e},totalPrice:p,priceCurrency:s,checkinTime:a,checkoutTime:i,reservationStatus:"http://schema.org/ReservationConfirmed",reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:o,telephone:c,address:h}})}),ASSERT(g.length>0),g},function(){return{}},"SG8f66f8e7"),new ReverseTemplate("qunar-car-confirmation-zh",function(){return!0},function(e){if(!/\u3010\u53bb\u54ea\u513f\u7f51\u3011/.test(e.plain))return CONTINUE;if(!/\u60a8\u5df2\u6210\u529f\u9884\u8ba2.+?\u53d6\u8f66\u65f6\u8bf7\u60a8\u643a\u5e26\u76f8\u5e94\u79df\u8f66\u8bc1\u4ef6/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h=r.getSpan(),c=h.innerCapture(/\u60a8\u5df2\u6210\u529f\u9884\u8ba2(\d+\u6708\d+\u65e5\d{1,2}[:\uff1a]\d{2})\uff0c(.+?(?:\u670d\u52a1\u70b9|\u70b9|\u5e97))(.+?)\u7528\u8f66\uff0c\u5730\u5740(.+?)\uff0c\u7535\u8bdd([\d\-\(\)]+)\uff0c/);return c&&6===c.length&&(n=h.innerCapture(/\u3010(.+?)\u3011/,1),a=r.getDetachedSpan(c[1].toString()).innerDate(),i=c[2],o=c[3],p=c[4],s=c[5]),ASSERT(a,OR(i,p))?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",reservationStatus:"http://schema.org/ReservationConfirmed",underName:{"@type":"http://schema.org/Person"},provider:{"@type":"http://schema.org/Organization",name:n},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:o}},pickupTime:a,pickupLocation:{"@type":"http://schema.org/Place",name:i,telephone:s,address:p}}]:void 0},function(){return{}},"SGb866eb80"),new ReverseTemplate("qunar-flight-confirmation-zh",function(){return!0},function(e){if(!/\u3010\u53bb\u54ea\u513f\u7f51\u3011/.test(e.plain))return CONTINUE;if(!/\u8bf7\u63d0\u524d2\u5c0f\u65f6\u5230\u673a\u573a\u503c\u673a\u3002/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);for(var n=r.getSpan(),a=[],i=[],o=[],p=n.innerLink(),s=/(\d{1,2}\u6708\d{1,2}\u65e5)(\d{1,2}:\d{2})-(\d{1,2}:\d{2})\u7684([^0-9A-Z].+?)?([0-9A-Z]{2})(\d{3,4})(.+?)(?:\uff08\u6709\u7ecf\u505c\uff09)?-(.+?)(?:\uff08\u6709\u7ecf\u505c\uff09)?(?:\u53ca|\u5df2\u51fa\u7968)/,h=n.nextRegExp(s);h!==r.getNullSpan();h=h.nextRegExp(s)){(u=h.innerCapture(s))&&9===u.length&&a.push({departureDateTime:r.getDetachedSpan(u[1]+""+u[2]),arrivalDateTime:r.getDetachedSpan(u[1]+""+u[3]),airlineName:u[4],airlineCode:u[5],flightNumber:u[6],departureAirport:u[7],arrivalAirport:u[8]})}var c=/[\uff0c,](.+?)\u7968\u53f7([\d\-]+)[,\u3002]/;for(h=n.nextRegExp(c);h!==r.getNullSpan();h=h.nextRegExp(c)){var u=h.innerCapture(c);i.push({name:u[1],ticketNumber:u[2]})}return 0===i.length&&i.push({}),i.forEach(function(e){a.forEach(function(t){ASSERT(e.name,t.airlineCode,t.flightNumber,t.departureAirport,t.departureDateTime,t.arrivalAirport,t.arrivalDateTime)&&o.push({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:t.airlineName,airlineCode:t.airlineCode,flightNumber:t.flightNumber,departureAirportFuzzy:t.departureAirport,departureTime:t.departureDateTime,arrivalAirportFuzzy:t.arrivalAirport,arrivalTime:t.arrivalDateTime},underName:{"@type":"http://schema.org/Person",name:e.name},checkinUrl:p,reservationStatus:"http://schema.org/ReservationConfirmed",reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:e.ticketNumber,ticketedSeat:{"@type":"http://schema.org/Seat"}}})})}),o.length>=1?o:CONTINUE},function(){return{}},"SG1d632a19"),new ReverseTemplate("qunar-hotel-confirmation-zh",function(){return!0},function(e){if(!/\u3010\u53bb\u54ea\u513f\u7f51\u3011/.test(e.plain))return CONTINUE;if(!/\u9884\u8ba2\u6210\u529f[:\uff1a].+?\d{1,2}\u6708\d{1,2}\u65e5\u81f3\d+\u65e5/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h,c=r.getSpan().innerCapture(/\u9884\u8ba2\u6210\u529f[:\uff1a](.+?)(\d{1,2}\u6708)(\d{1,2}\u65e5)\u81f3(\d+\u65e5)\u5165\u4f4f(.+?)\uff0c.+?([\d.]+)(\D)\uff0c(\d{1,2}[:\uff1a]\d{2}).+?\u7535\u8bdd[:\uff1a]([\d+-]+)/);return c&&10===c.length&&(n=c[1],a=r.getDetachedSpan(c[2]+c[3]+" "+c[8]).innerDate(),i=r.getDetachedSpan(c[2]+c[4]).innerDate(),o=c[5],p=c[6],s=c[7],h=c[9]),ASSERT(a,i,o)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:n},totalPrice:p,priceCurrency:s,checkinTime:a,checkoutTime:i,reservationStatus:"http://schema.org/ReservationConfirmed",reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:o,telephone:h}}]:void 0},function(){return{}},"SGfe100745"),new ReverseTemplate("dianping-confirmation-zh",function(){return!0},function(e){if(!/\u3010\u5927\u4f17\u70b9\u8bc4\u3011/.test(e.plain))return CONTINUE;if(!/\u8ba2\u5ea7\u6210\u529f\uff01/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s=r.getSpan(),h=s.innerCapture(/\u8ba2\u5ea7\u6210\u529f\uff01(\d{1,2}\u6708\d{1,2}\u65e5\s?\d{1,2}:\d{2}) (.+?)\uff0c(\d+)\u4eba\uff0c?\u5927\u5385\uff0c(?:\u5730\u5740\uff1a(.+?)[\uff0c\u3002])?/);return h&&5===h.length&&(n=s.innerCapture(/\u3010(.+)\u3011/,1),a=h[1],i=h[2],o=h[3],p=h[4]),ASSERT(i,a)?[{"@context":"http://schema.org","@type":"http://schema.org/FoodEstablishmentReservation",partySize:o,reservationStatus:"http://schema.org/ReservationConfirmed",reservationFor:{"@type":"http://schema.org/FoodEstablishment",name:i,address:p},startTime:a,bookingAgent:{"@type":"http://schema.org/Organization",name:n},underName:{"@type":"http://schema.org/Person"}}]:void 0},function(){return{}},"SG2159885d"),new ReverseTemplate("gewara-confirmation-zh",function(){return!0},function(e){if(!/\u3010\u683c\u74e6\u62c9\u3011/.test(e.plain))return CONTINUE;if(!/\u60a8\u5df2\u5b9a/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p,s,h=r.getSpan().innerCapture(/\u60a8\u5df2\u5b9a(\d+\u6708\d+\u65e5\d+:\d+)\u5468.(.+?)(\d+\u6392)([0-9\u3001]+\u5ea7)(.+?)\uff0c.*?\u5bc6\u7801([0-9A-Z]+)/);return h&&7===h.length&&([,n,a,i,o,p,s]=h),ASSERT(n,a,i,o,p,s)?[{"@context":"http://schema.org","@type":"http://schema.org/EventReservation",reservationStatus:"http://schema.org/ReservationConfirmed",reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:o,seatRow:i},ticketToken:s},reservationFor:{"@type":"http://schema.org/MovieShowing",startDate:n,movie:{"@type":"http://schema.org/Movie",name:p},location:{"@type":"http://schema.org/Place",name:a}}}]:void 0},function(){return{}},"SG623a359c"),new ReverseTemplate("gewara-reminder-zh",function(){return!0},function(e){if(!/\u3010\u683c\u74e6\u62c9\u3011/.test(e.plain))return CONTINUE;if(!/\u6e29\u99a8\u63d0\u793a:\u60a8\u5b9a\u7684/.test(e.plain))return CONTINUE;var t="zh_Hans_CN",r=Scanner.fromMessage(e);r.setLocale(t);var n,a,i,o,p=r.getSpan().innerCapture(/\u60a8\u5b9a\u7684(.+)\u5c06\u5728.+?(\d+:\d+)\u653e\u6620\uff0c.+\u81f3(.+)\uff08(.+)\uff09/);p&&5===p.length&&([,n,a,i,o]=p);var s=r.getDetachedSpan(new Date(1e3*e.epoch).toString()).innerDate(),h=s.toString().split(" ");return h[4]=a+":00",s=h.join(" "),s=r.getDetachedSpan(s).innerDate(),ASSERT(n,s,i,o)?[{"@context":"http://schema.org","@type":"http://schema.org/EventReservation",reservationStatus:"http://schema.org/ReservationConfirmed",reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat"}},reservationFor:{"@type":"http://schema.org/MovieShowing",startDate:s,movie:{"@type":"http://schema.org/Movie",name:n},location:{"@type":"http://schema.org/Place",name:i,address:o}}}]:void 0},function(){return{}},"SG47126d3d")]);