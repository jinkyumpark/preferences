(function(){return function(e,n,r,t,a){var o="",i=[],s=[],l=loadHelper("flight_reservationid_length.js")[t.senderDomain];l&&(a=l);var c=/[\s\(\n\u200E,\[#\/\u865fo:\uff08-]/,u=/[A-Z\d-]/,f=loadHelper("flight_reservation_content.js")[t.senderDomain];f&&(u=f);var h=new RegExp(c.source+u.source+"{"+a+"}"+/[\.\s\)\n\u200E,\]\(\[\/\uff0c\uc758\uff09]/.source,"g");(n.content_.match(h)||[]).forEach(function(e){var n=e.replace(/[\.\(\)\n\s\u200E,\[\]#\/\u865fo:\uff0c\uc758\uff08\uff09]/g,"").replace(/^-{1,}/g,""),t=!1;r.length>0&&r.forEach(function(e){(n.indexOf(e.reference)>-1||""===n)&&(t=!0)}),-1!==i.indexOf(n)||t||i.push(n)});var g=.4;return i.forEach(function(r){var t=n.getSpan().next(r),a=new RegExp("([\\d]{"+r.length+"}|[A-Z]{"+r.length+"}|[A-Z\\-]{"+r.length+"}|[\\d\\-]{"+r.length+"})"),o=0;a.exec(r)&&(o+=3);var i=!1;e.flightReservationIdPrefixes.forEach(function(e){var n=t.previous(e);i||n.isNullSpan_||(i=!0,o+=(t.start_-n.start_)/100)}),i||(o+=5),s.push({reservationId:r,penaltyPoints:o+g}),g+=.4}),s.sort(function(e,n){return e.penaltyPoints-n.penaltyPoints}),s.length>0&&(o=s[0].reservationId),o}}).call();