(function(){return function(e,t){if(!(t||(t=loadHelper("generic_common.js")(e,"restaurant"))&&t!==STOP))return STOP;var r,a,s,n,o,l,i,d,p,m=t[0],c=t[1],u=t[2],h=t[3];s=loadHelper("name.js")(e.subject,c,u,e),a=loadHelper("starttime.js")(c,u,e,s),r=loadHelper("reservationid.js")(c,u,e.subject,e.url);var g=u.getSpan(),j=g.allAddresses(),f=loadHelper("getCandidates.js");return(n=loadHelper("address.js")(c,u,e,s))&&n.exists()||(n=f([c.addressPrefix],g,function(e){return j.filter(function(t){return t.getStart()>=e.getStart()})},function(e,t){return e.getStart()>=t.getStart()})),c.addressPrefix.pop(),n=n.replace(/cross street$/i,""),o=loadHelper("undername.js")(e.to,c,u,e.subject),l=loadHelper("partysize.js")(h,c,u),d=loadHelper("agentname.js")(e.from),i=loadHelper("phone.js")(c,u,r,n,s,e),[{"@context":"http://schema.org","@type":"http://schema.org/FoodEstablishmentReservation",reservationId:r,reservationStatus:"http://schema.org/Reservation"+m,url:p,underName:{"@type":"http://schema.org/Person",name:o},broker:{"@type":"http://schema.org/Organization",name:d},startTime:a,partySize:l,reservationFor:{"@type":"http://schema.org/FoodEstablishment",name:s.trim(),telephone:i,address:n}}]}}).call();